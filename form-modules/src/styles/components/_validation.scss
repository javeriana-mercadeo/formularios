// =================================================================
// VALIDATION STYLES - Error messages, states, and feedback
// =================================================================

@use "../abstracts" as *;

/* =================================================================== */
/* OPTIMIZED ERROR MESSAGES */
/* =================================================================== */

/* New standardized error message class */
.form-card {
  .error-message {
    font-size: var(--font-size-xs, #{font-size("xs")});
    color: var(--danger-500, #{default-color("danger")});
    margin-top: spacing("sm");
    display: flex;
    align-items: center;
    gap: spacing("sm");
    padding: spacing("xs") spacing("sm");
    background: rgba(var(--danger-rgb, 255, 89, 77), 0.05);
    border-radius: var(--border-radius-md, #{get($radius, "md")});
    animation: errorSlideIn get($durations, "base") ease-out;
    @include animate(opacity);

    &::before {
      content: "⚠ ";
      font-size: 11px;
      flex-shrink: 0;
    }
  }
}

/* Field Error Messages - legacy */
.form-card .field-error {
  font-size: 12px;
  color: var(--danger-500);
  margin-top: 6px;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  background: rgba(var(--danger-rgb), 0.05);
  border-radius: 6px;
  animation: errorSlideIn 0.3s ease-out;
}

.form-card .field-error::before {
  content: "⚠ ";
  font-size: 11px;
  flex-shrink: 0;
}

/* Legacy error_text support */
.form-card .error_text {
  font-size: 12px;
  color: var(--danger-500);
  margin-top: 6px;
  display: none; /* Oculto por defecto */
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  background: rgba(var(--danger-rgb), 0.1);
  border-radius: 6px;
  animation: errorSlideIn 0.3s ease-out;
}

/* Solo mostrar cuando tiene contenido */
.form-card .error_text:not(:empty) {
  display: flex;
}

.form-card .error_text::before {
  content: "⚠ ";
  font-size: 11px;
  flex-shrink: 0;
  color: var(--danger-500);
}

/* Input Error States */
.form-card input.error,
.form-card select.error {
  border-bottom-color: var(--danger-500) !important;
  background: rgba(var(--danger-rgb), 0.09) !important;
}

/* Input Validated States */
.form-card input.validated,
.form-card select.validated {
  border-bottom-color: var(--success-600) !important;
  background: rgba(var(--success-rgb), 0.02);
}

/* Label Error States */
.form-card label.error {
  color: var(--danger-500);
}

/* =================================================================== */
/* SUCCESS MESSAGES */
/* =================================================================== */

/* New standardized success message class */
.form-card .success-message {
  font-size: var(--font-size-paragraph, 0.875rem);
  color: var(--success-600, #28a368);
  margin-top: 10px;
  padding: 12px 16px;
  background: rgba(40, 163, 104, 0.1);
  border-radius: 6px;
  border-left: 4px solid var(--success-600, #28a368);
  animation: successSlideIn 0.3s ease-out;
}

/* Legacy success message */
.form-card [data-puj-form="message-success"] {
  border: 2px solid green;
  background-color: lightgrey;
  padding: 10px;
  border-radius: 5px;
  display: none;
  margin-top: 10px;
  font-size: var(--font-size-paragraph);
  color: #006600;
}

/* =================================================================== */
/* ANIMATIONS */
/* =================================================================== */

/* Animation for error messages */
@keyframes errorSlideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Animation for success messages */
@keyframes successSlideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
